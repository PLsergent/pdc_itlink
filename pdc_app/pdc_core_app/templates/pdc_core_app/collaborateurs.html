{% extends "./base.html" %}

{% block content %}

{% load static %}
<script src="{% static "pdc_core_app/collaborateurs.js" %}"></script>

<nav class="level">
  <div class="level-left">
    <div class="columns">
      <div class="column">
       <a class="button is-danger is-medium">
         <span>Nouvelle affectation</span>
         <span class="icon">
           <i class="fas fa-folder-plus"></i>
         </span>
       </a>
       <br>
       <a href="/pdc/projets" class="button is-dark is-outlined is-small">
          <span>Liste affectations</span>
          <span class="icon">
            <i class="fas fa-list"></i>
          </span>
        </a>
     </div>
       <div class="column">
        <a href="/pdc/collaborateurs/add" class="button is-black is-medium">
          <span>Nouveau collaborateur</span>
          <span class="icon">
            <i class="fas fa-plus"></i>
          </span>
        </a>
      </div>
    </div>
  </div>
  <div class="level-right">
    <div class="column">
      <div class="columns">
        <div class="column">
        <div class="field is-flex">
          <input id="switchAll" type="checkbox" name="switchAll" class="switch is-medium" checked="checked">
          <label for="switchAll">All</label>
        </div></div>
        <div class="column">
        <div class="field is-flex">
          <input id="switchW" type="checkbox" name="switchW" class="switch is-medium">
          <label for="switchW">PythonWeb</label>
        </div></div>
        <div class="column">
        <div class="field is-flex">
          <input id="switchPQ" type="checkbox" name="switchPQ" class="switch is-medium">
          <label for="switchPQ">PythonQt</label>
        </div></div>
        <div class="column">
        <div class="field is-flex">
          <input id="switchCQ" type="checkbox" name="switchCQ" class="switch is-medium">
          <label for="switchCQ">CPlusQt</label>
        </div></div>
      </div>
    </div>
  </div>
</nav>

<table id='myTable' class = "stripe hover table is-fullwidth">
  <thead>
    <tr>
      <th>Edit/Delete</th>
      <th>Equipe</th>
      <th>Collab</th>
      <th>RdE</th>
      {% for month in list_month_display %}
        {% if month.0 > 9 %}
        <th>{{ month.0 }}-{{ month.1 }}</th>
        {% else %}
        <th>0{{ month.0 }}-{{ month.1 }}</th>
        {% endif %}
      {% endfor %}
    </tr>
  </thead>
  <tbody>
    {% for sku in all %}
    <tr>
        <td>
          <nav class="level">
            <div class="level-left">
                  <a href="/pdc/collaborateurs/update/{{ sku.1 }}" class="button is-small is-rounded is-warning">
                    <span class="icon">
                      <i class="far fa-edit"></i>
                    </span>
                  </a>
                  <a data-id="{{ sku.1 }}" class="button is-small is-rounded is-danger mydelete">
                    <span class="icon">
                      <i class="far fa-trash-alt"></i>
                    </span>
                  </a>
            </div>
          </nav>
        </td>
      {% for rp in sku %}
        <td>{{ rp }}</td>
      {% endfor %}
    </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}
